---
title: "Cost Dynamics"
author: "Nile Hatch"
#format: 
#  pdf:
#    toc: true
#    number-sections: true
#    colorlinks: true
format:
  html: 
    toc: true
    code-fold: true
    number-sections: true
    colorlinks: true
    embed-resources: true
editor: visual
execute:
  echo: false
---

```{r}
#| output: false
library(tidyverse)
library(ggthemes)
library(scales)
library(gt)
# Set the penalty to favor fixed notation
options(scipen = 999)
```

The cost structure of a company is shaped fundamentally by strategic decisions regarding what to produce in-house and what to procure from external sources. Opting to purchase inputs typically diminishes our fixed costs but can result in a higher variable cost per unit. Conversely, choosing to manufacture goods internally may elevate fixed costs but often leads to a decrease in variable costs per unit. As a firm invests in infrastructure and decides on its mix of make-or-buy, its cost structure inevitably evolves. Beyond these structural decisions, other influential forces dynamically shape costs. Chief among these are two pivotal concepts: economies of scale and the learning curve. Each plays a crucial role in the evolution of a firm's cost profile over time and, if leveraged astutely, can endow a strategic advantage.

Economies of scale refer to the cost advantage that arises with increased output. The basic premise is simple: as production scales up, the average total cost (ATC) of each unit declines. This happens due to the spreading of fixed costs over a larger number of units and the potential for increased operational efficiency that larger production volumes can afford. For a start-up or a growing business, recognizing the point where economies of scale kick in can mean the difference between thriving and merely surviving.

On the other hand, the learning curve concept deals with unit cost dynamics as a function of cumulative production experience. It's grounded in the observation that work becomes more efficient over time. The more often a task is performed, the lower the time and cost to complete future units becomes. This phenomenon can lead to significant cost reductions and is independent of the scale of operations, although it often complements economies of scale.

Together, these concepts describe the cost dynamics that are central to the strategic decision-making of an entrepreneur. They underscore the importance of production planning, workforce training, and technological investment. Balancing the immediate costs of expansion and training against long-term cost savings is a delicate act but one that can lead to a sustained competitive advantage. The ensuing sections will delve deeper into how these dynamics operate, their underlying principles, and how entrepreneurs can harness them to build efficient, cost-effective businesses.

<br>

## Economies of Scale

### What Are Economies of Scale?

Imagine your business is a ship. At first, sailing a small boat, every wave feels like a mountain. But as your ship grows, those waves become less daunting. This is what happens with your costs when your business scales up. Economies of scale occur when increasing the volume of production leads to a lower cost per unit. This is a sweet spot for entrepreneurs, where growing bigger means becoming more cost-efficient.

### Why Does ATC Fall with Q?

-   **Spreading of Fixed Costs:** Like a jar of peanut butter, the more bread you have to spread it on, the thinner you can spread it. The fixed costs (rent, machinery) get spread over more units, reducing the cost for each one. This effect is visible in the basic equation in the term $\mathsf{\frac{f}{Q}}$ which is always decreasing as quantity increases. Economies of scale are primarily generated by the spreading of fixed costs and secondarily by increased productivity.\
    \
    For example, larger manufacturing plants may see benefits like less energy use per unit or shared costs over multiple products. Similarly, big firms can often secure capital cheaper or spread R&D costs across the entire company.

-   **Increased Productivity:** As you produce more, your team learns and improves. Processes become more efficient, reducing the time (and hence cost) needed for each unit. This effect is less visible in the basic equation. If the process becomes more efficient, we should be able to make the same output with fewer resources and lower cost. That means that we would expect the unit cost $\mathsf{c}$ to be a function of quantity $\mathsf{c(Q)}$ that decreases as quantity increases.\
    \
    For example, investments in specialized machinery or staff training to increase proficiency and reduce errors lowers costs as production scales.

### The Basic Equation

In simple terms, the average total cost (ATC) decreases as the quantity of output (Q) increases. Remember that the basic equation for cost is

$$ \mathsf{C = f + cQ}$$ where

-   $\mathsf{C}$ is total cost;
-   $\mathsf{f}$ is fixed cost and doesn't change with quantity;
-   $\mathsf{c}$ is unit cost; and
-   $\mathsf{cQ}$ is variable cost and changes directly with quantity.

The equation for average total cost (ATC) is

$$ \mathsf{ATC = \frac{C}{Q} = \frac{f}{Q} + c. } $$

### Estimating the Scale Curve: The Power of the Power Function

We can see that economies of scale have a compound effect of spreading fixed cost $\mathsf{\frac{f}{Q}}$ and increased efficiency reducing unit cost $\mathsf{c(Q)}$. We tend to estimate how $\mathsf{ATC}$ changes with $\mathsf{Q}$ using a power function:

$$ \mathsf{ATC = a Q^b}$$ where:

-   $\mathsf{a}$ is a constant showing initial cost levels.
-   $\mathsf{b}$ is the parameter, usually a negative number, indicating how quickly costs fall as Q rises. If you're not math-inclined, think of it as a way to gauge how steeply your costs will decrease as you ramp up production. The steeper the curve, the greater the potential savings.

We will explore how to estimate the effects of economies of scale in the case of the Liberty Ship in @sec-liberty.

### The Flip Side: Diseconomies of Scale

But beware, like a too-big ship that's hard to steer, growing your business too much, too fast, can lead to higher costs per unit---this is called diseconomies of scale. It could be due to over-complicated management, increased transportation costs, or simply because workers feel lost in a company that's become too large.

### The Sweet Spot: Minimum Efficient Scale (MES)

MES is where your business operates in the most cost-effective manner. It's not just about being big; it's about being the right size in your market. If you're smaller than MES, you're not spreading costs effectively. Bigger than MES? You might be facing diseconomies.

<br>

## The Learning Curve

Gaining experience in your business operations can lead to a decrease in variable costs, allowing you to get to break-even faster. This experience manifests through the learning curve, which captures how businesses typically get better---and thus, more cost-efficient---at what they do over time.

### What is the learning curve?

The concept of a learning curve is straightforward: the more you produce, the better you get at it, and the less it costs to make each additional item. Specifically, costs tend to drop by a consistent percentage each time your total production doubles.

### Why does cost per unit fall with cumulative experience?

Learning curves stem from numerous improvements as your business matures, such as increased labor productivity, better process control, product enhancements, and increased efficiency across operations. While learning curves are especially relevant in manufacturing and labor-intensive settings, they're also applicable to startups that are outsourcing in the beginning. As you gain experience and shift towards more in-house production, these benefits become more pronounced.

### The Basic Equation(s)

Usually, the learning curve is characterized by a constant percentage reduction in cost associated with a doubling of production. This is best expressed by the traditional learning curve formula as a power function:

$$ \mathsf{c_{N} = c_{1} \  N^{b}} $$ where

-   $\mathsf{c_{N}}$ is the unit cost to produce the N-th unit -- it is a dynamic form of the unit cost $\mathsf{c}$.
-   $\mathsf{c_{1}}$ is the unit cost to produce the first unit.
-   $\mathsf{N}$ is the total (cumulative) number of units produced so far.
-   $\mathsf{b}$ is the learning parameter, a negative number telling us how quickly costs fall.

Learning curves of this form have the feature that they decrease by a fixed percent every time cumulative experience $\mathsf{N}$ doubles. For example, if we have an "80 percent learning curve," it means that with every doubling of total output, the cost per unit drops to 80 percent of what it was prior to the doubling---a 20 percent reduction.

The relationship between the learning rate (the percentage of cost that remains after each doubling of experience) and the learning parameter $\mathsf{b}$ can be calculated with these formulas:

$$
\mathsf{b = \frac{log(r)}{log(2)}}
$$ where $\mathsf{b}$ is the learning parameter and $\mathsf{r}$ is the learning rate meaning the percentage of the previous level of cost the learning curve will bring the cost down to. For example, for an 80 percent learning curve, $\mathsf{r = 0.80}$ so

$$
\mathsf{b = \frac{log(0.80)}{log(2)} = `r round(log(.8)/log(2), 4)`}
$$

If we know the learning parameter $\mathsf{b}$ but not the learning rate $\mathsf{r}$, we calculate $\mathsf{r}$ with $$
\mathsf{r = 2^{-b}}
$$ For an 80 percent learning curve, we know that the learning parameter $\mathsf{b = -0.3219}$ so

$$
\mathsf{r = 2^{`r log(0.8)/log(2)`} = `r 2^{log(.8)/log(2)}`.}
$$

### Learning Curve in Action

The impact of the learning curve is illustrated by how variable costs decrease over time. For a starting variable cost of \$100, an 80 percent learning curve shows a drop to \$22.71 after 100 units. @fig-lc1 displays these cost paths for 90 percent, 80 percent, and 70 percent learning curves.

```{r}
#| label: fig-lc1
#| fig-cap: "90 percent, 80 percent, and 70 percent learning curves."
#| fig-cap-location: margin
#| warning: false

C1 <- 100
r9 <- 0.9
r8 <- 0.8
r7 <- 0.7

b9 <- -log(r9)/log(2)
b8 <- -log(r8)/log(2)
b7 <- -log(r7)/log(2)

fLC9 <- function(N) C1 * N^(-(-(log(r9)/log(2))))
fLC8 <- function(N) C1 * N^(-(-(log(r8)/log(2))))
fLC7 <- function(N) C1 * N^(-(-(log(r7)/log(2))))

rev_bounds <- tibble(x = c(1, 100))    # Create tibble containing plot range for x-axis (P)
eqn9 <- " c[N] == 100 * N^{-0.152} "
eqn8 <- " c[N] == 100 * N^{-0.3219} "
eqn7 <- " c[N] == 100 * N^{-0.5146} "
ggplot(rev_bounds, aes(x)) +                     # Draw ggplot2 plot
  geom_function(fun = fLC9, color = "#FE4401", linewidth = 2) +
  geom_function(fun = fLC8, color = "#FE4401", linewidth = 2) +
  geom_function(fun = fLC7, color = "#FE4401", linewidth = 2) +
  #labs(#title = "Revenue for a ticket to a dollar theater",
  xlab("Cumulative Volume")+
  ylab("Unit Cost") +
  #xlab(TeX(r'(Cumulative Volume $ \left( N = \sum_1^N Q \right)$)')) +
  #ylab(TeX(r'(Unit Cost $ \left( C_N  \right)$)')) #cumulative Volume $ \left( N = \sum_1^N Q \right)$)')) +
  #
  geom_text(x=40, y=71, label="90% Learning Curve", hjust = 0.5, size = 4, parse=F) +
  #annotate("text", x=40, y=64, label=TeX(eqn9, output = "character"), hjust = 0.5, size = 3, parse=TRUE) +
  #annotate(geom='text', label=TeX("$C_N = 100^{-0.152})$"),  x=40, y=64, size=3) +
  geom_text(x=40, y=64, label=eqn9, hjust = 0.5, size = 3, parse=TRUE) +
  #
  geom_text(x=60, y=40, label="80% Learning Curve", hjust = 0.5, size = 4, parse=F) +
  geom_text(x=60, y=33, label=eqn8, hjust = 0.5, size = 3, parse=TRUE) +
  #
  geom_text(x=80, y=15, label="70% Learning Curve", hjust = 0.5, size = 4, parse=F) +
  geom_text(x=80, y=6, label=eqn7, hjust = 0.5, size = 3, parse=TRUE) +
  #
  #scale_x_continuous(labels=scales::dollar_format()) + 
  scale_y_continuous(lim = c(-0,100), labels=scales::dollar_format()) + 
  theme_hc() + # base size = 12, font family = sans, ... 
  #  scale_color_brewer(palette="GnBu", direction=-1) +
  theme(legend.justification=c(0, 1), legend.position=c(1.8, 1)) # hides legend outside the frame

```

### Pricing Strategy and the Learning Curve

Sometimes, setting a price below your current unit cost can be strategic if it helps accumulate experience faster, thus reducing costs more quickly. But it's crucial to accurately understand your learning curve because an overestimate can lead to delayed profitability.

<br>

## Economies of Scale vs. the Learning Curve

Don't confuse the learning curve with economies of scale. While both affect the path to profitability, they measure different things: economies of scale relate to the average total cost falling with increased production per period, while the learning curve deals with the reduction in variable cost per unit due to accumulated experience over time. @fig-scale-lbd compares these two concepts.

```{r}
#| label: fig-scale-lbd
#| fig-cap: "Distinction between economies of scale and learning economies."
#| fig-subcap: 
#|   - "Economies of Scale"
#|   - "Learning Curve"
#| layout-ncol: 2
#| warning: false

f = 50000
c = 200
f_EOS <- function(Q) f/Q + c

rev_bounds <- tibble(x = c(1, 100))    # Create tibble containing plot range for x-axis (P)
eqn1 <- " ATC == over(f, Q) + c "
eqn2 <- " phantom(ATC) == over(50000, Q) + 200 "
ggplot(rev_bounds, aes(x)) +                     # Draw ggplot2 plot
  geom_function(fun = f_EOS, color = "#DA0406", linewidth = 2) +
  #labs(#title = "Revenue for a ticket to a dollar theater",
  xlab("Quantity per Period (Q)")+
  ylab("Average Total Cost") +
  #xlab(TeX(r'(Cumulative Volume $ \left( N = \sum_1^N Q \right)$)')) +
  #ylab(TeX(r'(Average Total Cost $ \left( ATC = \frac{f}{Q} + c  \right)$)')) 
  #
  geom_text(x=6, y=19000, label="Economies of Scale", hjust = 0, size = 6, parse=F) +
  geom_text(x=8, y=16000, label=eqn1, hjust = 0, size = 5, parse=TRUE) +
  geom_text(x=8.5, y=12000, label=eqn2, hjust = 0, size = 5, parse=TRUE) +
  #
  #scale_x_continuous(labels=scales::dollar_format()) + 
  scale_y_continuous(lim = c(-0,27000), labels=scales::dollar_format()) + 
  theme_hc() + # base size = 12, font family = sans, ... 
  #  scale_color_brewer(palette="GnBu", direction=-1) +
  theme(legend.justification=c(0, 1), legend.position=c(1.8, 1)) # hides legend outside the frame

################################


c1 = 200
b = -(log(0.8)/(log(2)))
f_LC <- function(N) c1 * N^-b

rev_bounds <- tibble(x = c(1, 100))    # Create tibble containing plot range for x-axis (P)
eqn1 <- " c[N] == c[1] * N^{-b} "
eqn2 <- " phantom(0) == 200 * N^{-0.3219} "
ggplot(rev_bounds, aes(x)) +                     # Draw ggplot2 plot
  geom_function(fun = f_LC, color = "#FE4401", linewidth = 2) +
  labs(x = "Cumulative Volume across Periods (N)",
       y = "Variable Cost of Unit N") +
  #
  geom_text(x=9, y=142, label="Learning Curve", hjust = 0, size = 6, parse=F) +
  geom_text(x=12, y=125, label=eqn1, hjust = 0, size = 5, parse=TRUE) +
  geom_text(x=13.8, y=110, label=eqn2, hjust = 0, size = 5, parse=TRUE) +
  #
  scale_y_continuous(lim = c(-0,200), labels=scales::dollar_format()) + 
  theme_hc() + # base size = 12, font family = sans, ... 
  theme(legend.justification=c(0, 1), legend.position=c(1.8, 1)) # hides legend outside the frame


```

<br>

## Workout Problems

### Cost Dynamics of the Dorsal travel pack

The Dorsal travel pack is a stylish, modern backpack with all of the zippers facing inward toward the wearer's back. It is made of slash resistant fabric in nondescript colors to avoid the attention that more popular colorful brands draw. Let's look at the cost of having the Dorsal pack manufactured by a contract manufacturer. The manufacturer charges \$40 per backpack to be manufactured, packaged, and delivered to the start-up's offices. The start up is also spending \$200 per month for web hosting and \$5500 per month for contracted web development. Their total cost curve is linear: $$ \mathsf{C = cQ + f}$$ where $\mathsf{c}$ is the variable cost per unit and $\mathsf{f}$ is fixed cost per month.

------------------------------------------------------------------------

**In homework 3.1, we studied cost structure of the Dorsal travel pack. In this homework, we will continue the analysis by focusing on cost dynamics of the manufacturing supplier of the backpack.**

------------------------------------------------------------------------

1.  **Estimating the rate of learning at Dorsal's manufacturer:** In these early days of the start-up, a manufacturer has been contracted to manufacture, pack, and ship the travel backpacks to the Dorsal's offices. As long as Dorsal is using this low fixed cost - high variable cost structure, they do not expect much improvement variable cost due to learning curve economies. The manufacturer, on the other hand, is well established, has the data, and has a learning curve. It is highly unlikely that the manufacturer would share it's cost data with Dorsal so we will turn our attention to the management decisions of the manufacturer.\
    \
    The manufacturer has the following data on **fixed cost** (`f_m`), **average variable cost** per unit per period (`c_m`), and **quantity** (`q_m`). These cost data are stored in a tibble named `mfr_cost`.

    a.  Based on the experience of the manufacturer, what is it's learning parameter $\mathsf{b}$ from $\mathsf{c_N = c_1 \cdot N^b}$?
    b.  What will be the expected cost of the 50,000 unit?

```{r}
#| label: mfr-cost
#| echo: false

mfr_cost <- tibble(f_m = c(rep(5000000000, 25)),
                    c_m = c(65,15.41,13.51,13.73,13.33,12.91,12.19,12.27,11.67,11.38,10.55,10.79,10.58,10.31,10.62,10.54,10.07,9.97,10.29,9.85,9.59,9.88,9.30,8.55,9.61),
                    q_m = c(1,1685,1494,1122,1165,1115,1549,1002,1444,1659,1670,1365,1368,1646,1104,1103,1577,1404,1584,1159,1472,1522,1622,1342,1349))

gt_preview(mfr_cost, top_n = 5, bottom = 5, incl_rownums = F) %>% 
  fmt_number(
    columns = vars(f_m),
    decimals = 0,        # Set the number of decimal places
    use_seps = TRUE      # Use separators for thousands, millions, etc.
  )
```
